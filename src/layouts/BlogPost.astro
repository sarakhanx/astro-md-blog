---
import Layout from './Layout.astro';
import { format } from 'date-fns';

const { frontmatter } = Astro.props;
const ogImageUrl = frontmatter.slug
---

<Layout title={frontmatter.title} description={frontmatter.description} slug={ogImageUrl}>
  <head>
    <meta property="og:image" content={ogImageUrl} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content={ogImageUrl} />
  </head>
  <article class="blog-post">
    <h1>{frontmatter.title}</h1>
    <div class="metadata">
      <time datetime={frontmatter.date}>
        {format(new Date(frontmatter.date), 'MMMM d, yyyy')}
      </time>
      {frontmatter.author && <span> â€¢ By {frontmatter.author}</span>}
    </div>
    <slot />
  </article>
</Layout>

<style>
  .blog-post {
    max-width: 65ch;
    margin: 0 auto;
    padding: 2rem;
  }

  h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    color: white;
  }

  .metadata {
    color: #94a3b8;
    margin-bottom: 2rem;
  }
</style>