---
import Layout from '../layouts/Layout.astro';
import { format } from 'date-fns';


interface Page {
  data: { slug: string; title: string }[];
  currentPage: number;
  lastPage: number;
}

const posts = await Astro.glob('./blog/*.{md,mdx}');
const sortedPosts = posts.sort((a, b) => 
  new Date(b.frontmatter.date).valueOf() - new Date(a.frontmatter.date).valueOf()
);

---

<Layout title="MY ENTIRE NOTE" description="My entire note description" slug="https://media.licdn.com/dms/image/C4E12AQGEy0nHsryvOg/article-cover_image-shrink_720_1280/0/1561242730098?e=2147483647&v=beta&t=Zvez_D5lTF6HeyMW9_KSObThHV1sRQY62sQo-QXyuRk">
	<main>
	  <h1>MY ENTIRE NOTE</h1>
	  <ul class="post-list">
		{sortedPosts.map(post => (
		  <li>
			<a href={post.url}>
			  <h2>{post.frontmatter.title}</h2>
			  <div class="metadata">
				<time datetime={post.frontmatter.date}>
				  {format(new Date(post.frontmatter.date), 'MMMM d, yyyy')}
				</time>
				{post.frontmatter.author && 
				  <span> • By {post.frontmatter.author}</span>
				}
			  </div>
			  {post.frontmatter.description && 
				<p>{post.frontmatter.description}</p>
			  }
			</a>
		  </li>
		))}

	  </ul>
	</main>
  </Layout>

<style>
  main {
    max-width: 80ch;
    margin: 0 auto;
    padding: 2rem;
  }

  h1 {
    font-size: 2.5rem;
    margin-bottom: 2rem;
    color: white;
  }

  .post-list {
    list-style: none;
    padding: 0;
  }

  .post-list li {
    margin-bottom: 2rem;
  }

  .post-list a {
  display: block;
  text-decoration: none;
  color: #ffffff; /* สีตัวอักษรสีขาว */
  padding: 1rem;
  border-radius: 8px;
  background: rgba(32, 34, 37, 0.8); /* สีพื้นหลังคล้าย Discord */
  transition: background 0.2s, transform 0.2s;
}

.post-list a:hover {
  background: rgba(54, 57, 63, 0.9); /* สีพื้นหลัง hover */
  transform: scale(1.02); /* ขยายเล็กน้อยเมื่อ hover */
}

h2 {
  margin: 0;
  color: #ffffff; /* สีขาว */
  font-size: 1.5rem;
  font-weight: bold;
}

.metadata {
  color: #b9bbbe; /* สีเทาอ่อน (สีข้อความใน Discord) */
  margin: 0.5rem 0;
  font-size: 0.85rem;
}

p {
  margin: 0.5rem 0 0;
  color: #b9bbbe; /* สีข้อความเพิ่มเติม */
}

body {
  background-color: #202225; /* สีพื้นหลังของ Discord */
  font-family: 'Roboto', sans-serif; /* ใช้ฟอนต์คล้าย Discord */
}

.post-list {
  border: 1px solid rgba(54, 57, 63, 0.8); /* เส้นขอบเบาๆ สำหรับแบ่งส่วน */
  border-radius: 8px;
  padding: 1rem;
  background: #2f3136; /* สีพื้นของกล่องข้อความ */
}

</style>